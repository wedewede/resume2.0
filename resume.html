<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>个人简历</title>
  <link rel="stylesheet" href="./resume.css">
  <style type="text/css">
    .icon {
      width: 1em;
      height: 1em;
      vertical-align: -0.15em;
      fill: currentColor;
      overflow: hidden;
    }
    .site-welcome{
      display: none;
      position: fixed;
      top:0;
      left:0;
      width: 100%;
      height:100%;
      background: #888;
      z-index: 1;
      justify-content: center;
      align-items: center;
    }
    .site-welcome.welcomeActive{
      display: flex;
    }
  </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.3.5/Tween.min.js"></script>

</head>

<body>
  <div class="site-welcome welcomeActive" id="siteWelcome">
    <div class="loading"></div>
  </div>
  <div class="topNavBar clearfix" id="topNavBar">
    <a class="logo" href="#" alt="logo" style="float: left; ">
      <span class="rs">RS</span>
      <span class="card">card</span>
    </a>
    <nav style="float: right;">
      <ul class="clearfix topNavBar-menu" id="topNavBarMenu">
        <li>
          <a href="#about">关于</a>
        </li>
        <li>
          <a href="#skills">技能</a>
        </li>
        <li class="submenu">
          <a href="#jobs">作品</a>
          <ul class="dropMenu">
            <li>作品1222222</li>
            <li>作品2</li>
            <li>作品3</li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">博客</a>
          <ul class="dropMenu">
            <li>作品1</li>
            <li>作品2</li>
            <li>作品3</li>
          </ul>
        </li>
        <li>
          <a href="#">日历</a>
        </li>
        <li>
          <a href="#">联系方式</a>
        </li>
        <li>
          <a href="#">其他</a>
        </li>
      </ul>
    </nav>
  </div>
  <div class="banner">
    <div class="mask"></div>
  </div>
  <main>
    <div class="cards clearfix"  id="about" data-x>
      <div class="pictureAndText clearfix ">
        <div class="picture">
          <img src="./img/photo.jpg" alt="头像">
        </div>
        <div class="text">
          <div class="profile clearfix">
            <span class="welcome">HELLO
              <span class="triangle"></span>
            </span>
            <h1>平浩力</h1>
            <p>前端开发工程师</p>
            <hr>
            <dl>
              <dt>年龄</dt>
              <dd>18</dd>
              <dt>所在城市</dt>
              <dd>北京</dd>
              <dt>邮箱</dt>
              <dd>pinghaoli@foxmail.com</dd>
              <dt>手机</dt>
              <dd>13812345678</dd>
            </dl>
          </div>
        </div>
      </div>
      <footer class="media">
        <a href="#">
          <img src="./img/jianshu.png" alt="...">
        </a>
        <a href="#">
          <img src="./img/GitHub.png" alt="...">
        </a>
        <a href="#">
          <img src="./img/weibo.png" alt="...">
        </a>
        <svg class="icon" aria-hidden="true">
          <use xlink:href="#icon-github5"></use>
        </svg>
      </footer>
    </div>
    <p class="download">
      <a class="button" href="./img/photo.jpg" target="_blank" download>下载 PDF 简历</a>
    </p>
    <p class="selfIntroduction">
      平浩力， 前端工程师，熟练掌握HTML5&amp;CSS3，精通JavaScript。
      <br> 技能：前端开发，Rails 开发，Node.js 开发
    </p>
  </main>
  <section class="skills" id="skills" data-x>
    <h2 class="skill">专业技能</h2>
    <ol class="skillBar clearfix">
      <li>
        <h3>
          HTML 5 &amp; CSS 3
          <div class="progress">
            <div class="percent" style="width: 70%;"></div>
          </div>
        </h3>
      </li>
      <li>
        <h3>
          JavaScript
          <div class="progress">
            <div class="percent" style="width: 67%;"></div>
          </div>
        </h3>
      </li>
      <li>
        <h3>
          jQuery
          <div class="progress">
            <div class="percent" style="width: 65%;"></div>
          </div>
        </h3>
      </li>
      <li>
        <h3>
          Vue.js
          <div class="progress">
            <div class="percent" style="width: 40%;"></div>
          </div>
        </h3>
      </li>
      <li>
        <h3>
          React.js
          <div class="progress">
            <div class="percent" style="width: 35%;"></div>
          </div>
        </h3>
      </li>
      <li>
        <h3>
          Node.js
          <div class="progress">
            <div class="percent" style="width: 55%;"></div>
          </div>
        </h3>
      </li>
    </ol>
  </section>
  <section class="sampleReels" id="jobs" data-x>
    <h2>作品集</h2>
    <nav>
      <ol class="portfolio clearfix">
        <li id="sta1">所有</li>
        <li id="sta2">框架</li>
        <li id="sta3">原生JS&amp;CSS</li>
      </ol>
      <div class="moveBar state-1" id="moveBar">
        <div class="barinner"></div>
      </div>
    </nav>
    <div class="jobs">
      <div class="big">
        <img src="./img/1.jpg" alt="">
      </div>
      <div class="small1">
        <img src="./img/2.jpg" alt="">
      </div>
      <div class="small2 ">
        <img src="./img/3.jpg" alt="">
      </div>
    </div>
  </section>
  <script>
    sta1.onclick = function () {
      moveBar.className = "moveBar state-1"
    }
    sta2.onclick = function () {
      moveBar.className = "moveBar state-2"
    }
    sta3.onclick = function () {
      moveBar.className = "moveBar state-3"
    }



    let specialTags=document.querySelectorAll('[data-x]')
    for(let i=0;i<specialTags.length;i++){
      specialTags[i].classList.add('jump')
    }
    setTimeout(function() {findClosest() }, 2000);
    function findClosest(){
      let minIndex=0
      for(let i=1;i<specialTags.length;i++){
        if(Math.abs(specialTags[i].offsetTop-window.scrollY)<=Math.abs(specialTags[minIndex].offsetTop-window.scrollY)){
          minIndex=i
        }
      }
      let focusId=specialTags[minIndex].id
      let a=document.querySelector('a[href="#'+focusId+'"]')
      let li=a.parentElement
      let ours=li.parentElement.children
      for(let i=0; i<ours.length;i++){
        ours[i].classList.remove('focusOn')
      }
      ours[minIndex].classList.add('focusOn')
      specialTags[minIndex].classList.remove('jump')
    }
    //topNavBar滚动效果
    window.onscroll = function (x) {
      if (window.scrollY) {
        topNavBar.classList.add('sticky')
      } else {
        topNavBar.classList.remove('sticky')
      }
      //页面滚动时，menu状态条切换
      findClosest()
    }
    //topNavBar下拉菜单
    let liTags = document.getElementsByClassName('submenu')
    for (let i = 0; i < liTags.length; i++) {
      liTags[i].onmouseenter = function (xx) {
        xx.currentTarget.classList.add('drop')
      }
      liTags[i].onmouseleave = function (xx) {
        xx.currentTarget.classList.remove('drop')
      }
    }
    //menu状态显示条
    let allLi=document.querySelector('#topNavBarMenu').children
    for (let i = 0; i < allLi.length; i++){
      allLi[i].addEventListener("mouseenter",function(){
        allLi[i].classList.add('active')
      })
      allLi[i].addEventListener("mouseleave",function(){ 
        allLi[i].classList.remove('active') })
    }
    //页面跳转动画
    let aTags = document.querySelectorAll('#topNavBarMenu > li >a')
    for (let i = 0; i < aTags.length; i++) {
      aTags[i].onclick = function (yy) {
        yy.preventDefault();
        let top = document.querySelector(yy.currentTarget.getAttribute('href')).offsetTop
        let targetTop = top - 80
        let currentTop = window.scrollY
        function animate(time) { 
          requestAnimationFrame(animate); 
          TWEEN.update(time); 
          } 
        requestAnimationFrame(animate);
        let s=Math.abs(targetTop-currentTop)
        let t=s/100*300
        if(t<300){
          t=300
        }else if(t>900){
          t=900
        }else{
          t=s/100*300
        }
        var coords = { x: 0,y: currentTop};
        var tween = new TWEEN.Tween(coords).to({x: 0,y: targetTop}, 1000)
        .easing(TWEEN.Easing.Quadratic.InOut)
        .onUpdate(function () {
          window.scrollTo(0,coords.y)
          
        })
        .start();
      }
    }
  </script>
  <script>
    setTimeout(function(){
      siteWelcome.classList.remove('welcomeActive')
    }
    , 1500);
    
  </script>
</body>

</html>